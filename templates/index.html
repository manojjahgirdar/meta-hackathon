<!DOCTYPE html>
<html>
<head>
    <title>Ask User</title>
    <script src="https://cdn.socket.io/4.0.0/socket.io.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            const socket = io();

            socket.on('ask_question', (data) => {
                const questionContainer = document.getElementById('questionContainer');
                questionContainer.innerHTML = `
                    <p>(Difficulty: ${data.difficulty}, Taxonomy: ${data.taxonomy}) Question: ${data.question}</p>
                    <ul>
                        ${Object.entries(data.options).map(([key, value]) => `<li>${key}: ${value}</li>`).join('')}
                    </ul>
                    <input type="text" id="userResponse" placeholder="Your answer here">
                    <button id="submitResponse">Submit</button>
                `;

                document.body.appendChild(questionContainer);

                document.getElementById('submitResponse').addEventListener('click', () => {
                    const userResponse = document.getElementById('userResponse').value;
                    console.log("Sending response: ", userResponse);
                    socket.emit('question_response', userResponse);
                });
            });

        });
    </script>
</head>
<body>
    <h1>Student Portal</h1>
    <p>Waiting for questions...</p>
    <div id="questionContainer"></div>
</body>
</html>
